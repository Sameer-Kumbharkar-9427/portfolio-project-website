<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> Data Pipeline using YouTube API and AWS RDS</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-sql.min.js"></script>

  <style>
    body {
      font-family: 'Inter', sans-serif;
      background: linear-gradient(135deg, #1a0933 0%, #2a1a5e 100%);
      margin: 0;
      padding: 20px;
      color: #333;
    }
  
    /* Hero Banner */
    .project-hero {
      background: linear-gradient(90deg, #4b0082, #8a2be2);
      color: white;
      padding: 20px 20px;
      text-align: center;
      border-radius: 15px;
      margin-bottom: 30px;
      box-shadow: 0 5px 20px rgba(0,0,0,0.3);
    }
    .project-hero h1 {
      margin: 0;
      font-size: 2.5rem;
    }
    .project-hero p {
      margin-top: 10px;
      font-size: 1.2rem;
      letter-spacing: 1px;
    }
  
    /* Highlight Badges */
    .project-highlights {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
      justify-content: center;
      margin: 20px 0;
    }
    .project-highlights div {
      background: #e0d7ff;
      color: #4b0082;
      padding: 8px 15px;
      border-radius: 20px;
      font-weight: bold;
      font-size: 0.9rem;
    }
  
    /* Layout */
    .project-layout {
      display: flex;
      gap: 30px;
      flex-wrap: wrap;
      margin-top: 20px;
    }
    .left-column, .right-column {
      flex: 1 1 500px;
      min-width: 300px;
    }
    /* .project-image1 {
      background-image: url('Images/mrbeast_youtubeapi/logo.png');
      background-size: contain;
      background-repeat: no-repeat;
      background-position: center;
      width: 100%;
      height: 300px;
      background-color: white;
      border-radius: 15px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    } */
    .left-summary {
      margin-top: 20px;
      background: #ffffff;
      padding: 20px;
      border-radius: 15px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      color: #333;
    }
  
    /* Dropdowns */
    .dropdown-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 15px 20px;
      background: #4b0082;
      color: white;
      border-radius: 10px;
      cursor: pointer;
      margin-top: 20px;
      font-size: 1.1rem;
    }
    .dropdown-header i {
      font-size: 20px;
    }
    .dropdown {
      display: none;
      padding: 20px;
      background: #fff;
      margin-top: 5px;
      border-radius: 10px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
  
    /* Prism code styling */
    pre {
      background: #f9f9f9;
      border-radius: 8px;
      padding: 15px;
      overflow-x: auto;
    }
    code {
      font-family: 'Courier New', monospace;
    }
  
    /* Resume Button */
    .resume-btn {
      display: inline-block;
      margin: 30px auto 0;
      background: #4b0082;
      color: white;
      padding: 12px 25px;
      border-radius: 30px;
      text-decoration: none;
      font-weight: bold;
      text-align: center;
      transition: background 0.3s ease;
    }
    .resume-btn:hover {
      background: #6a0dad;
    }
  
    /* Sub-dropdowns */
    .sub-dropdown-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: #6c757d;
      color: white;
      padding: 10px 15px;
      border-radius: 8px;
      cursor: pointer;
      margin-top: 10px;
      font-size: 1rem;
    }
    .sub-dropdown-header:hover {
      background: #5a6268;
    }
    .sub-dropdown {
      display: none;
      background: #e9ecef;
      padding: 15px;
      margin-top: 5px;
      margin-left: 20px;
      border-radius: 8px;
      border-left: 3px solid #6c757d;
    }
  
  </style>
  
  <script>
    function toggleDropdown(id) {
      let element = document.getElementById(id);
      if (element.style.display === "block") {
        element.style.display = "none";
      } else {
        element.style.display = "block";
      }
    }
  
    function toggleSubDropdown(id) {
      let subElement = document.getElementById(id);
      if (subElement.style.display === "block") {
        subElement.style.display = "none";
      } else {
        subElement.style.display = "block";
      }
    }
  </script>
  
</head>
<body>

    <section class="project-hero">
        <h1>Data Pipeline using YouTube API and AWS RDS</h1>
        <!-- <p>Youtube API | Pandas | AWS RDS | SQL</p> -->
      </section>
    
      <!-- Highlight Quick Metrics -->
      <div class="project-highlights">
        <div>✔️ API Integration</div>
        <div>✔️ 800+ Videos Fetched</div>
        <div>✔️ Cloud Database Setup</div>
        <div>✔️ SQL Queries Performed</div>
      </div>

      <div class="project-layout">
        <!-- Left Column -->
        <div class="left-column">
          <div class="project-image1"></div>
          <div class="left-summary">
            <h2>Project Overview</h2>
            <p>I built a full ETL pipeline to collect, process, and analyze YouTube video data from MrBeast's channel. <br><br>

                Using the YouTube Data API, I fetched all available video metadata and performance stats, handling API pagination and authentication. I processed and normalized the nested JSON responses using Python and Pandas, ensuring clean and structured tabular data. <br><br>
                
                After saving the processed dataset to a CSV file, I uploaded the data into a MySQL database hosted on AWS RDS. I connected to the RDS instance using MySQL Workbench to run exploratory SQL queries, such as identifying the most viewed videos, analyzing engagement trends, and exploring publishing patterns. <br><br>
                
                This project improved my skills in API integration, data engineering, cloud database management, and SQL analytics.</p>
          </div>
    
          <!-- Resume Button -->
          <a href="YOUR_RESUME_LINK_HERE" target="_blank" class="resume-btn">Download Resume</a>
        </div>


        <div class="right-column">

        <div class="dropdown-header" onclick="toggleDropdown('environment')">
            <span>Tools & Technologies Used</span> <i>▼</i>
        </div>
        <div id="environment" class="dropdown" style="display: block;">
            <ul>

                <li>YouTube Data API</li>
                    
                <li>Pandas</li>
                    
                <li>AWS RDS (MySQL)</li>
                    
                <li>MySQL WOrkbench</li>
                    
                <li>SQLAlchemy </li>
                    
                <li>Jupyter Notebook </li>
            </ul>
        </div>

        <div class="dropdown-header" onclick="toggleDropdown('data-source')">
            <span>Data Description</span> <i>▼</i>
        </div>
        <div id="data-source" class="dropdown">
            <p>Key columns:</p>
            <ul>

                    <li>video_id</li>

                    <li>title</li>

                    <li>publishedAt</li>

                    <li>viewCount</li>

                    <li>likeCount</li>

                    <li>commentCount</li>

                    <li>duration</li>
            </ul>
            
        </div>

        <div class="dropdown-header" onclick="toggleDropdown('data-storage')">
            <span>Data Storage and Upload</span> <i>▼</i>
        </div>

        <div id="data-storage" class="dropdown">

            <div class="dropdown-header sub-dropdown-header" onclick="toggleDropdown('revenue-analysis')">
                <span>Pulling Data using Youtube API</span> <i>▼</i>
            </div>

            <div id="revenue-analysis" class="sub-dropdown">
            <pre><code class="language-sql">
    import pandas as pd
    import requests
    import time

    API_KEY = 'xxxxxxx'
    CHANNEL_ID = 'xxxxx'

    # Getting uploads playlist ID

    channel_url = 'https://www.googleapis.com/youtube/v3/channels'
    channel_params = {
    'part': 'contentDetails',
    'id': CHANNEL_ID,
    'key': API_KEY
    }
                </code></pre>
                <pre><code class="language-sql">
    channel_res = requests.get(channel_url, params=channel_params).json()
                </code></pre>
                <pre><code class="language-sql">
    uploads_playlist_id = channel_res['items'][0]['contentDetails']['relatedPlaylists']['uploads']
                </code></pre>
                <pre><code class="language-sql">
    # getting video id's using playlistItems endpoint and fetching video title and video date

    video_ids = []
    next_page_token = None

    while True:
    playlist_url = 'https://www.googleapis.com/youtube/v3/playlistItems'
    playlist_params = {
        'part' : 'snippet',
        'playlistId' : uploads_playlist_id,
        'maxResults' : 50,
        'key' : API_KEY,
        'pageToken' : next_page_token 
    }

    playlist_res = requests.get(playlist_url, params=playlist_params).json()
    for item in playlist_res.get('items',[]):
        video_ids.append({
            'video_id': item['snippet']['resourceId']['videoId'],
            'video_title': item['snippet']['title'],
            'upload_date': item['snippet']['publishedAt'].split('T')[0]
        })

    next_page_token = playlist_res.get('nextPageToken')
    if not next_page_token:
        break

    time.sleep(1)
        
                </code></pre>
                <pre><code class="language-sql">
    # fetching stats through videos endpoint by using video id's that we got in previous step. fetching stats for 50 videos atime in batches
    
    df_rows = []
    for i in range(0, len(video_ids), 50):
        batch = video_ids[i:i+50]
        ids = ','.join([v['video_id'] for v in batch])
                    
        stats_url = 'https://www.googleapis.com/youtube/v3/videos'
        stats_params = {
            'part': 'statistics,contentDetails',
            'id': ids,
            'key': API_KEY
        }
                    
    stats_res = requests.get(stats_url, params=stats_params).json()
                    
    for item in stats_res.get('items', []):
        vid = next((v for v in batch if v['video_id'] == item['id']), None)
        if not vid:
            continue
                    
        # Get stats
        stats = item.get('statistics', {})
        view_count = stats.get('viewCount', 0)
        like_count = stats.get('likeCount', 0)
        comment_count = stats.get('commentCount', 0)

    # stacking all the data fetched by using append
                            
        df_rows.append({
            'video_id': vid['video_id'],
            'video_title': vid['video_title'],
            'upload_date': vid['upload_date'],
            'view_count': view_count,
            'like_count': like_count,
            'comment_count': comment_count,
                                
        })
                    
    time.sleep(1)
                </code></pre>
                <pre><code class="language-sql">
    # df_rows into a dataframe

    df = pd.DataFrame(df_rows)
    df.head()
                </code></pre>
                <div class="project-image" style="background-image: url('Images/mrbeast_youtubeapi/1.png');background-repeat: no-repeat;background-size: contain;background-position: center;
                width: 100%;height: 250px;"></div>
                <pre><code class="language-sql">
    # saving the dataframe into a csv file

    df.to_csv('mrbeast.csv', index=False)
                </code></pre>
                
</div>

<div class="dropdown-header sub-dropdown-header" onclick="toggleDropdown('database')">
    <span>Setting up MySQL Database in AWS RDS</span> <i>▼</i>
</div>

<div id="database" class="sub-dropdown">
    <ul>
        <li>Go to https://aws.amazon.com and sign in with AWS account. </li>
            <li>Navigate to the RDS service via the search bar.</li>
            <li>Click on “Create database”.</li>
            <li>Choose Standard Create.</li>
            <li>Under Engine options, select MySQL</li>
            <li>Give the database a name</li>
            <li>Set the main user (e.g., admin)</li>
            <li>Create and confirm a password. </li>
            <li>Choose a free-tier eligible size</li>
            <li>Choose Default VPC </li>
            <li>Set Public Access=Yes </li>
            <li>Click Create Database.</li>

            <li>Go to EC2 > Security Groups</li>
            <li>Find the security group associated with your RDS instance.</li>
            <li>Edit Inbound Rules to allow MySQL/Aurora (port 3306) from: IP address</li>

        </li>
    </ul>
    </div>

    <div class="dropdown-header sub-dropdown-header" onclick="toggleDropdown('upload')">
        <span>Uploading File to RDS</span> <i>▼</i>
    </div>
    <div id="upload" class="sub-dropdown">
        <pre><code class="language-sql">
    import pandas as pd
    from sqlalchemy import create_engine
        </code></pre>
        <pre><code class="language-sql">
    # Read CSV
    df = pd.read_csv("mrbeast.csv")
    df.head()
        </code></pre>
        <div class="project-image" style="background-image: url('Images/mrbeast_youtubeapi/2.png');background-repeat: no-repeat;background-size: contain;background-position: center;
                width: 100%;height: 250px;"></div>
        <pre><code class="language-sql">
    # Define connection parameters
    host_name = "mysql.c7wu4628yiku.eu-north-1.rds.amazonaws.com"
    db_name = "project"
    port = 3306
    username = "admin"
    password = "sameer1111"
        </code></pre>
        <pre><code class="language-sql">
    # Create SQLAlchemy engine using pymysql
    # engine  = dialect+driver://username:password@host:port/database

    engine = create_engine(f"mysql+pymysql://{username}:{password}@{host_name}:{port}/{db_name}")
        </code></pre>
        <pre><code class="language-sql">
    # Test the connection and upload the dataframe
    try:
        with engine.connect() as connection:
            print("Connected to MySQL!")
            
            # write the DataFrame to a table
            df.to_sql('mrbeast_data', con=connection, if_exists='replace', index=False)
            print("DataFrame written to 'mrbeast_data' table!")
            
    except Exception as e:
        print("Error:", e)
        </code></pre>
        <pre><code class="language-sql">
    connection.close()     
    engine.dispose()   # cleans up the engine and releases any pooled resources
    print("Connection closed.")
        </code></pre>
        </div>  
        
        <div class="dropdown-header sub-dropdown-header" onclick="toggleDropdown('queries')">
            <span>Querying using MySQL Workbench</span> <i>▼</i>
        </div>
        
        <div id="queries" class="sub-dropdown">
            <pre><code class="language-sql">
    select count(*)
    from mrbeast_data;
            </code></pre>
            <div class="project-image" style="background-image: url('Images/mrbeast_youtubeapi/3.png');background-repeat: no-repeat;background-size: contain;background-position: center;
                width: 100%;height: 100px;"></div>

            <pre><code class="language-sql">
    select *
    from mrbeast_data
    order by view_count desc
    limit 10;
            </code></pre>
            <div class="project-image" style="background-image: url('Images/mrbeast_youtubeapi/4.png');background-repeat: no-repeat;background-size: contain;background-position: center;
                width: 100%;height: 250px;"></div>
            </div>

        </div>


        <div class="dropdown-header" onclick="toggleDropdown('conclusion')">
            <span>Conclusion</span> <i>▼</i>
        </div>
        <div id="conclusion" class="dropdown">
            <p>I successfully built a scalable data pipeline using Python and AWS RDS to extract and store YouTube channel data. Demonstrated proficiency in API interaction, data structuring, cloud database setup, and SQL querying. This project sets the foundation for future analysis or dashboard creation based on live YouTube data streams.</p>
    </div>

</div>
</div>

</body>

</html>